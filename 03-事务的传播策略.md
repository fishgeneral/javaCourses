<h1 align="center">事务的传播策略</h1>



在Spring容器中定义了七种事务传播机制的值，由此规定了在嵌套情况下，事务之间相互调用时的七种协调方式。

| 参数取值                  | 说明                                                         |
| ------------------------- | ------------------------------------------------------------ |
| Propagation.REQUIRED      | 该值表示，当前事务必须在一个具有事务的方法中运行，如果该事务的调用方已经处于一个事务中，那么该事务可以在该外部事务中运行，否则得重新开启一个事务 |
| Propagation.SUPPORTS      | 当前事务方法不需要在事务环境中运行，但是如果该事务的调用方已经处于一个事务中，那么本事务也能在调用方法的事务中运行 |
| Propagation.MANDATORY     | 当前事务的方法必须在一个事务环境中运行，否则抛出异常         |
| Propagation.REQUIRES_NEW  | 当前事务方法必须运行在它自己独立的事务中，对此数据库系统将为该方法创建一个新的事务 |
| Propagation.NOT_SUPPORTED | 当前事务方法不应该在一个事务中运行。如果该事务的调用方已经处于一个事务中，那么该事务方法将直到这个事务提交或者回滚才恢复执行 |
| Propagation.NEVER         | 该事务方法不应该在一个事务中运行，否则抛出异常               |
| Propagation.NESTED        | 如果当前事务的调用方法处于一个事务环境中，那么该方法应该运行在一个嵌套事务中。被嵌套的事务可以独立于被封装的事务进行提交或者回滚 |



大多数场景中会把事务传播机制的值设置成Propagation.REQUIRED，或者干脆不设置，采用默认值，使用其它场景的值并不多。



